let e=firebase.initializeApp({apiKey:"AIzaSyBdOJIrUlQgAUSJFpYyVRyicGTUORlizhs",authDomain:"ppwk25.firebaseapp.com",projectId:"ppwk25",storageBucket:"ppwk25.firebasestorage.app",messagingSenderId:"1067986513496",appId:"1:1067986513496:web:1c001a497423b45913e42d",measurementId:"G-VZ5DKMQTKX"}),t=firebase.getAuth(e),a=firebase.getFirestore(e);document.addEventListener("DOMContentLoaded",function(){let e,n,i,o,d;function s(){onSnapshot(collection(a,"transactions"),e=>{let t=document.getElementById("transactions-list");t.innerHTML="",e.forEach(e=>{let a=document.createElement("li");a.textContent=`${e.data().stuff}`,t.appendChild(a)})})}(e=document.createElement("div")).id="auth-container",(n=document.createElement("h2")).textContent="Kirjaudu sisään",(i=document.createElement("input")).type="email",i.id="email",i.placeholder="Sähköposti",(o=document.createElement("input")).type="password",o.id="password",o.placeholder="Salasana",(d=document.createElement("button")).id="login-button",d.textContent="Kirjaudu sisään",e.appendChild(n),e.appendChild(i),e.appendChild(o),e.appendChild(d),document.body.prepend(e),document.getElementById("login-button").onclick=function(){signInWithEmailAndPassword(t,document.getElementById("email").value,document.getElementById("password").value).then(e=>{document.getElementById("auth-container").style.display="none",document.getElementById("account-container").style.display="block",s()}).catch(e=>{console.error("Virhe kirjautumisessa: ",e.message),alert("Kirjautumisvirhe: "+e.message)})},document.getElementById("add-button").onclick=async function(){let e=document.getElementById("stuff").value;if(e)try{let t=await fetch("https://api.openweathermap.org/data/2.5/weather?q=Helsinki&appid=8dda2a79a0ad82930338ad7693a4d551");if(!t.ok)throw Error("Virhe: "+t.status);let n=await t.json(),i=n.main.temp,o=n.weather[0].description;document.getElementById("weather-info").innerHTML=`
                <h3>S\xe4\xe4tiedot</h3>
                <p>Helsinki<p>
                <p>L\xe4mp\xf6tila: ${(i-273.15).toFixed(2)} \xb0C</p>
                <p>Kuvaus: ${o}</p>
            `,await addDoc(collection(a,"transactions"),{stuff:e,timestamp:serverTimestamp()}),document.getElementById("stuff").value="",alert("matkatavara on lisätty!"),s()}catch(e){console.error("Virhe API-kutsussa tai tietojen tallentamisessa: ",e.message),alert("Virhe: "+e.message)}else alert("Täytä kenttä: matkatavarat!")},s()});
//# sourceMappingURL=public.fa4ccd73.js.map
